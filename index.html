<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="description" content="JSON Lint is a web based validator and reformatter for JSON, a lightweight data-interchange format.">
    
    <title>JSONLint - The JSON Validator</title>

    <script type="text/javascript">
        if (typeof JSON === 'undefined') {
            document.write('<sc' + 'ript type="text/javascript" src="c/js/json2.js"></sc' + 'ript>');
        }
    </script>

    <link rel="stylesheet" href="css/screen.css" type="text/css" media="screen, projection">
    <link href="css/jquery-linedtextarea.css" type="text/css" rel="stylesheet">
</head>
    <body>
     	<a href="http://www.arc90.com/" id="arc90-logo" title="An Arc90 Lab Experiment">Arc90.com</a>
      
		<input type="hidden" id="reformat" value="1" />
		<input type="hidden" id="compress" value="0" />
			
		<div id="validator-placeholder1"></div>
				<div id="validator-placeholder2"></div>

		
        <div id="results_header" class="hide">
            <h3>
                Results <img title="Loading..." class="reset" alt="Loading" src="images/loadspinner.gif" id="loadSpinner" name="loadSpinner">
            </h3>
        </div>
        
        <script data-main="js/main" src="js/lib/require.js"></script>
        
        <script>
	        require([
	            'bootstrap.bundle',
	            'jsonlint/ValidatorView'
	        ], function() {
		        var ValidatorView = require('jsonlint/ValidatorView'),
				    JSON_PARAM = _getURLParameter('json'),  
				    validatorView1,
				    validatorView2,
				    enterSplitMode;
				
				// this needs to be in a composite
				validatorView1 = new ValidatorView({
				    el 			: $('#validator-placeholder1'),
					jsonParam 	: JSON_PARAM
			    });
			 			    
			    validatorView2  = new ValidatorView({
				    el 			: $('#validator-placeholder2'),
					jsonParam 	: false
			    });
			    
			    enterSplitMode = function () {
				    validatorView1.$el.animate({
					   width : '50%' 
				    }, 100);
				    
				    validatorView2.$el.animate({
					   width : '50%',
					   left: '50%'
				    }, 100);
			    };

			    validatorView2.on('split:view', enterSplitMode);
    
			    $('.json_input').linedtextarea();
	        });
	    </script>
	</body>
</html>